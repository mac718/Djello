(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,a){e.exports=a(59)},48:function(e,t,a){},51:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),l=a.n(i),o=a(31),c=a(4),s=a(32),d=a(28),m=a(34),u=a.n(m),h=a(35),p=a.n(h),E=a(2);a(45),a(46);function C(e){return{type:"GET_DATA_FAILURE",error:e}}function g(e){return{type:"HANDLE_USERNAME_INPUT_CHANGE",data:e}}function f(e){return{type:"HANDLE_PASSWORD_INPUT_CHANGE",data:e}}function b(e){return{type:"UPDATE_CURRENT_USER",data:e}}function N(e){return{type:"CHANGE_ACTIVE_CARD_MODAL",id:e}}function v(e){return{type:"UPDATE_ACTIVE_BOARD_LISTS",lists:e}}function T(e,t){return function(a,n){e.preventDefault();var r=n(),i=r.username,l=r.password;console.log(JSON.stringify({username:i,password:l})),fetch(t,{method:"POST",body:JSON.stringify({username:i,password:l}),headers:{"Content-type":"application/json"}}).then((function(e){if(200===e.status)return console.log("Yay!"),e.json();throw console.log("no"),new Error(e.error)})).then((function(e){console.log("submit "+JSON.stringify(e)),a({type:"GET_DATA_SUCCESS",data:e})})).catch((function(e){console.log(e),a(C(e)),alert("Error logging in")}))}}function y(e,t,a){return function(n,r){var i;"/changeListName"===a&&(i=e.target.parentElement.parentElement.id),"/changeBoardName"===a&&(document.getElementById("board-name").innerHTML="",e.target.value="");var l=r().currentUser;console.log("route "+a),fetch(a,{method:"POST",body:JSON.stringify({componentName:t,currentUser:l,listId:i}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("change name "+JSON.stringify(e)),"/changeListName"===a?(n(v(e.lists)),n(b(e.user))):n(b(e.user))})).catch((function(e){console.log(e),alert("hmmmm")}))}}function D(e){return function(t,a){t({type:"TOGGLE_IS_LOADING"});var n,r,i=a(),l=i.attributeType,o=i.cardAttributeContent,c=i.currentUser;"title"===l?(t({type:"SWITCH_TO_CARD_TITLE_DISPLAY"}),r=e.target.parentElement.parentElement.parentElement.parentElement.id,n=e.target.parentElement.parentElement.parentElement.parentElement.firstChild.id):"description"===l?(t({type:"SWITCH_TO_CARD_DESCRIPTION_DISPLAY"}),r=e.target.parentElement.parentElement.parentElement.id,n=e.target.parentElement.parentElement.parentElement.firstChild.id):"member"===l?(r=e.target.parentElement.parentElement.parentElement.parentElement.id,n=e.target.parentElement.parentElement.parentElement.parentElement.firstChild.id):"checklist-item"===l&&(r=e.target.parentElement.parentElement.parentElement.parentElement.id,n=e.target.parentElement.parentElement.parentElement.parentElement.firstChild.id),console.log("hello"),fetch("/updateCardAttribute",{method:"POST",body:JSON.stringify({attributeType:l,attributeContent:o,currentUser:c,listId:n,cardId:r}),headers:{"Content-type":"application/json"}}).then((function(e){return console.log("res "+JSON.stringify(e)),500===e.status?e:e.json()})).then((function(e){500===e.status?t({type:"DISPLAY_DUPLICATE_MEMBER_WARNING"}):"member"===l?(t(v(e.lists)),t(b(e.user)),t((function(e,t){var a=t();console.log("state"+JSON.stringify(a));var n=a.cardAttributeContent,r=a.currentUser.activeBoard;fetch("/addBoardToMember",{method:"POST",body:JSON.stringify({username:n,boardId:r}),headers:{"Content-type":"application/json"}}).catch((function(e){console.log(e),alert("hmmmm")}))}))):(t(v(e.lists)),t(b(e.user)))})).catch((function(e){console.log(e),alert("hmmmm")}))}}function I(e){return function(t,a){var n=a(),r=Array.from(n.activeBoardLists);console.log(r);var i,l,o,c,s,d=n.currentUser,m=e.destination,u=e.source,h=e.draggableId;Promise.resolve(o=r.filter((function(e){return JSON.stringify(u.droppableId)===JSON.stringify(e._id)}))[0],r.forEach((function(e,t){JSON.stringify(e._id)===JSON.stringify(u.droppableId)&&(i=t)})),c=r.filter((function(e){return JSON.stringify(m.droppableId)===JSON.stringify(e._id)}))[0],r.forEach((function(e,t){JSON.stringify(e._id)===JSON.stringify(m.droppableId)&&(l=t)})),s=o.cards.filter((function(e){return JSON.stringify(e._id)===JSON.stringify(h)}))[0]).then((function(){console.log(h),console.log("source "+JSON.stringify(u)),console.log("destination "+JSON.stringify(m)),m&&(m.draoppableId===u.droppableId&&m.index===u.index||t(function(e,t,a,n,r,i,l,o,c){return function(a){var s=n;JSON.stringify(r._id)===JSON.stringify(i._id)?(r.cards.splice(e.index,1),r.cards.splice(t.index,0,l),s.splice(o,1,r),a(v(s))):(r.cards.splice(e.index,1),i.cards.splice(t.index,0,l),s.splice(o,1,r),s.splice(c,1,i),a(v(s)))}}(u,m,0,r,o,c,s,i,l)))})),fetch("/updateListAfterDnD",{method:"POST",body:JSON.stringify({currentUser:d,destination:m,source:u,draggableId:h}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t(b(e))})).catch((function(e){console.log(e),alert("hmmmm")}))}}var S={username:"",password:"",isLoggingIn:!1,currentUser:{},currentBoard:{},userBoards:[],error:"",redirect:"",showCardForm:!1,title:"",activeCardModal:null,cardAttributeContent:"",showBoardNameDisplay:!0,showCardDescriptionForm:!1,showCardTitleForm:!1,attributeType:"",isLoading:!1,userList:[],showDuplicateMemberWarning:!1,activeBoardLists:[],currentList:{},currentCard:{},progressValue:0,showChecklistItemForm:!1,showChecklistTitleForm:!1};var O={key:"root",storage:u.a,stateReconciler:p.a,blacklist:["redirect","loading","showCardForm","activeCardModal","showCardDescriptionForm"]},A=Object(d.a)(O,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DATA_REQUEST":return Object(E.a)({},e,{isLoggingIn:!0});case"GET_DATA_SUCCESS":return console.log("reducer "+JSON.stringify(t.data.user.activeBoard)),Object(E.a)({},e,{isLoggingIn:!1,currentUser:t.data.user,redirect:t.data.redirect,userBoards:t.data.boards,currentBoard:t.data.user.activeBoard,activeBoardLists:t.data.lists});case"GET_DATA_FAILURE":return Object(E.a)({},e,{isLoggingIn:!1,error:t.error});case"HANDLE_USERNAME_INPUT_CHANGE":return Object(E.a)({},e,{username:t.data});case"HANDLE_PASSWORD_INPUT_CHANGE":return Object(E.a)({},e,{password:t.data});case"SET_CURRENT_BOARD":return console.log(t.data),Object(E.a)({},e,{currentBoard:t.data});case"UPDATE_CURRENT_USER":return console.log("current user "+t.data),Object(E.a)({},e,{currentUser:t.data,isLoading:!1});case"CREAT_CARD_FORM":return Object(E.a)({},e,{showCardForm:t.listId});case"HIDE_CARD_FORM":return Object(E.a)({},e,{showCardForm:!1});case"CHANGE_TITLE":return Object(E.a)({},e,{title:t.title});case"CHANGE_ACTIVE_CARD_MODAL":return Object(E.a)({},e,{activeCardModal:e.activeCardModal?null:t.id});case"EDIT_CARD_ATTRIBUTE":return console.log("decription "+t.attribute),Object(E.a)({},e,{cardAttributeContent:t.attribute});case"SHOW_BOARD_NAME_DISPLAY":return Object(E.a)({},e,{showBoardNameDisplay:!e.showBoardNameDisplay});case"SWITCH_TO_CARD_DESCRIPTION_FORM":return Object(E.a)({},e,{showCardDescriptionForm:!0,attributeType:"description"});case"SWITCH_TO_CARD_DESCRIPTION_DISPLAY":return Object(E.a)({},e,{showCardDescriptionForm:!1});case"SWITCH_TO_CARD_TITLE_FORM":return Object(E.a)({},e,{showCardTitleForm:!0,attributeType:"title"});case"SWITCH_TO_CARD_TITLE_DISPLAY":return Object(E.a)({},e,{showCardTitleForm:!1});case"TOGGLE_IS_LOADING":return Object(E.a)({},e,{isLoading:!0});case"REDIRECT_AFTER_LOGOUT":return Object(E.a)({},e,{redirect:"/login"});case"UPDATE_USER_LIST":return Object(E.a)({},e,{userList:t.users});case"SELECT_MEMBER_FROM_DROPDOWN":return Object(E.a)({},e,{attributeType:"member",cardAttributeContent:t.member});case"DISPLAY_DUPLICATE_MEMBER_WARNING":return Object(E.a)({},e,{showDuplicateMemberWarning:!0});case"CLOSE_DUPLICATE_MEMBER_WARNING":return Object(E.a)({},e,{showDuplicateMemberWarning:!1});case"UPDATE_ACTIVE_BOARD_LISTS":return console.log("lists "+JSON.stringify(t.lists)),Object(E.a)({},e,{activeBoardLists:t.lists});case"SET_CURRENT_LIST_AND_CARD":return Object(E.a)({},e,{currentList:t.listAndCard.currentList,currentCard:t.listAndCard.currentCard});case"SHOW_ADD_ITEM_FORM":return Object(E.a)({},e,{showChecklistItemForm:t.checklistId,attributeType:"checklist-item"});case"HIDE_ADD_ITEM_FORM":return Object(E.a)({},e,{showChecklistItemForm:!1});case"DISPLAY_CHECKLIST_TITLE_FORM":return Object(E.a)({},e,{showChecklistTitleForm:t.checklistId,attributeType:"title"});case"HIDE_CHECKLIST_TITLE_FORM":return Object(E.a)({},e,{showChecklistTitleForm:!1});default:return e}})),_=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,w=Object(c.e)(A,_(Object(c.a)(s.a))),k=Object(d.b)(w),F=(a(48),a(49),a(50),a(51),a(13)),L=a(17),U=a(6),j=a(7),M=a(9),R=a(8),B=a(10),H=a(3),J=function(e){var t=e.onSubmit,a=e.onUsernameChange,n=e.onPasswordChange;return r.a.createElement("div",{className:"tile is-ancestor is-4",id:"register"},r.a.createElement("div",{className:"card is-4 form-card has-background-grey-lighter"},r.a.createElement("div",{className:"form-header is-size-4"},"Create a New Account"),r.a.createElement("form",{onSubmit:t,className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"username",type:"email",placeholder:"Username",onChange:a}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"password",type:"password",placeholder:"Password",onChange:n}))),r.a.createElement("div",{className:"form-footer"},"Already have an account? ",r.a.createElement(F.b,{to:"/login"},"Log In here!")),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-primary is-light is-fullwidth"},"Sign Up")))))},P=function(e){function t(){return Object(U.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onUsernameChange,a=e.onPasswordChange,n=e.onSubmit,i=e.redirect,l=e.currentUser;return i==="/".concat(l.username)?r.a.createElement(L.a,{to:"/".concat(l.username)}):r.a.createElement(J,{onUsernameChange:t,onPasswordChange:a,onSubmit:n})}}]),t}(n.Component),W=Object(H.b)((function(e){return{redirect:e.redirect,currentUser:e.currentUser}}),(function(e){return{onUsernameChange:function(t){var a=t.target.value;console.log(a),e(g(a))},onPasswordChange:function(t){var a=t.target.value;console.log(a),e(f(a))},onSubmit:function(t){e(T(t,"/register"))}}}))(P),x=function(e){var t=e.onSubmit,a=e.onUsernameChange,n=e.onPasswordChange;e.redirect;return r.a.createElement("div",{className:"tile is-ancestor is-4",id:"login"},r.a.createElement("div",{className:"card is-4 form-card has-background-grey-lighter"},r.a.createElement("div",{className:"form-header is-size-4"},"Sign In"),r.a.createElement("form",{onSubmit:t,className:"card-content"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"username",type:"email",placeholder:"Username",onChange:a}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"password",type:"password",placeholder:"Password",onChange:n}))),r.a.createElement("div",{className:"form-footer"},"Don't have an account yet? ",r.a.createElement(F.b,{to:"/register"},"Register")," now."),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-primary is-light is-fullwidth"},"Sign In")))))},G=function(e){function t(){return Object(U.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onUsernameChange,a=e.onPasswordChange,n=e.onSubmit,i=e.redirect,l=e.currentUser;return console.log(i),i==="/".concat(l.username)?r.a.createElement(L.a,{to:"/".concat(l.username)}):r.a.createElement(x,{onUsernameChange:t,onPasswordChange:a,onSubmit:n,redirect:i})}}]),t}(n.Component),Y=Object(H.b)((function(e){return{redirect:e.redirect,currentUser:e.currentUser}}),(function(e){return{onUsernameChange:function(t){var a=t.target.value;console.log(a),e(g(a))},onPasswordChange:function(t){var a=t.target.value;console.log(a),e(f(a))},onSubmit:function(t){e(T(t,"/login"))}}}))(G);var z=a(21),V=function(e){var t=e.description,a=e.handleCardAttributeEdit,n=e.handleCardAttributeUpdate,i=e.handleSwitchToCardDescriptionDisplay;e.listId,e.cardId;return r.a.createElement("form",{className:"card-description-form",onSubmit:n},r.a.createElement("textarea",{className:"textarea",onChange:a,defaultValue:t}),r.a.createElement("div",{id:"card-modal-buttons",className:"field is-grouped"},r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-primary",type:"submit"},"Save"),r.a.createElement("button",{className:"button is-danger",onClick:i},"Cancel"))))},K=function(e){var t=e.description,a=e.handleSwitchToCardDescriptionForm;return r.a.createElement("div",{className:"card card-description-display",onClick:a},r.a.createElement("div",{className:"card-content"},t))},X=function(e){var t=e.title,a=e.handleCardAttributeEdit,n=e.handleCardAttributeUpdate,i=e.handleSwitchToCardTitleDisplay;e.listId,e.cardId;return r.a.createElement("form",{onSubmit:n},r.a.createElement("input",{className:"input",type:"text",onChange:a,defaultValue:t}),r.a.createElement("div",{id:"card-modal-buttons",className:"field is-grouped"},r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-primary",type:"submit"},"Save"),r.a.createElement("button",{className:"button is-danger",onClick:i},"Cancel"))))},Q=function(e){var t=e.title,a=e.handleSwitchToCardTitleForm;return r.a.createElement("div",{onClick:a},t)},q=function(e){var t=e.members,a=(e.handleAddMemberToCard,e.handleSelectMemberFromDropdown),n=e.handleCardAttributeUpdate,i=[];t&&(i=t.map((function(e){return r.a.createElement("a",{href:"#",className:"dropdown-item",onClick:a,key:e._id},e.username)})));return r.a.createElement("form",{className:"member-selection",onSubmit:n},r.a.createElement("div",{className:"dropdown is-hoverable is-up"},r.a.createElement("div",{className:"dropdown-trigger"},r.a.createElement("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu"},r.a.createElement("span",{id:"dropdown-selection"},"Members"),r.a.createElement("span",{className:"icon is-small"},r.a.createElement("i",{className:"fas fa-angle-down","aria-hidden":"true"})))),r.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu"},r.a.createElement("div",{className:"dropdown-content"},i))),r.a.createElement("button",{type:"submit",className:"button is-light is-primary is-small is-outlined add-member-button"},"+ Add Member"),null)},Z=function(e){var t=e.handleCardAttributeEdit,a=e.handleHideAddItemForm,n=e.handleAddChecklistItem;return r.a.createElement("form",{className:"checklist-item-form",onSubmit:n},r.a.createElement("div",null,r.a.createElement("a",{className:"hide-add-item-form delete is-medium",onClick:a}),r.a.createElement("input",{className:"input",type:"text",onChange:t})),r.a.createElement("button",{className:"button",type:"submit"},"Add"))},$=function(e){var t=e.title,a=e.handleCardAttributeEdit,n=e.handleHideChecklistTitleForm,i=e.handleUpdateChecklistTitle;e.checklistId,e.listId,e.cardId;return r.a.createElement("form",{onSubmit:i},r.a.createElement("input",{className:"input",type:"text",onChange:a,defaultValue:t}),r.a.createElement("div",{id:"checklist-title-buttons",className:"field is-grouped"},r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-primary",type:"submit"},"Save"),r.a.createElement("button",{className:"button is-danger",onClick:n},"Cancel"))))},ee=function(e){var t=e.title,a=e.handleDisplayChecklistTitleForm,n=e.handleDeleteChecklist;return r.a.createElement("div",{className:"checklist-title-display",onClick:a},r.a.createElement("p",{className:"checklist-title"},t),r.a.createElement("div",{className:"delete-checklist"},r.a.createElement("button",{className:"button is-small is-danger is-light",onClick:n},"delete")))},te=function(e){var t,a,n=e.items,i=e.handleCheckItem,l=e.handleShowAddItemForm,o=e.handleHideAddItemForm,c=e.showChecklistItemForm,s=e.handleCardAttributeEdit,d=e.handleAddChecklistItem,m=e.handleDisplayChecklistTitleForm,u=e.handleHideChecklistTitleForm,h=(e.cardId,e.checklistId),p=e.title,E=e.showChecklistTitleForm,C=e.handleUpdateChecklistTitle,g=e.handleDeleteChecklist,f=n.map((function(e){var t=e.checked?"checklist-item-label checked":"checklist-item-label";return r.a.createElement("div",{className:"checklistItem",id:e._id},r.a.createElement("input",{type:"checkbox",value:e.content,name:e.content,onClick:i}),r.a.createElement("label",{className:t,for:e.content}," ",e.content))})),b=n.filter((function(e){return e.checked})).length,N=b/n.length*100?b/n.length*100:0;return console.log(b),t=c===h?r.a.createElement(Z,{handleHideAddItemForm:o,handleCardAttributeEdit:s,handleAddChecklistItem:d}):r.a.createElement("button",{className:"button is-light",onClick:l},"Add an item"),a=E===h?r.a.createElement($,{title:p,handleCardAttributeEdit:s,handleHideChecklistTitleForm:u,handleUpdateChecklistTitle:C}):r.a.createElement(ee,{title:p,handleDisplayChecklistTitleForm:m,showChecklistTitleForm:E,handleDeleteChecklist:g}),r.a.createElement("div",{id:h,className:"checklist content"},a,r.a.createElement("span",null,N,"%"),r.a.createElement("progress",{class:"progress is-primary is-small",value:N,max:"100"},N,"%"),f,t)},ae=function(e){var t=e.currentUser,a=e.attributeContent,n=e.members,i=e.classes,l=e.handleActiveCardModal,o=e.cardId,c=e.handleDeleteCard,s=e.listId,d=e.listName,m=e.handleCardAttributeEdit,u=e.handleCardAttributeUpdate,h=e.handleSwitchToCardDescriptionForm,p=e.handleSwitchToCardDescriptionDisplay,E=e.handleSwitchToCardTitleForm,C=e.handleSwitchToCardTitleDisplay,g=e.showCardDescriptionForm,f=e.showCardTitleForm,b=e.isLoading,N=e.handleSelectMemberFromDropdown,v=e.showDuplicateMemberWarning,T=e.handleCloseDuplicateMemberWarning,y=e.handleDeleteMemberFromCard,D=(e.lists,e.currentList),I=e.currentCard,S=e.handleShowAddItemForm,O=e.handleHideAddItemForm,A=e.showChecklistItemForm,_=e.handleCreateChecklist,w=e.handleAddChecklistItem,k=e.handleCheckItem,F=e.handleDisplayChecklistTitleForm,L=e.handleHideChecklistTitleForm,U=e.showChecklistTitleForm,j=e.handleUpdateChecklistTitle,M=e.handleDeleteChecklist;console.log("listId "+s),console.log("carId "+o);var R,B,H,J,P,W,x,G,Y,Z=t.boards.filter((function(e){return JSON.stringify(e._id)===JSON.stringify(t.activeBoard)}))[0];console.log("currentBoard "+JSON.stringify(Z)),console.log(D),I.activity&&(R=I.activity.map((function(e){return r.a.createElement("li",{key:e},e)}))),I.checklists&&(Y=I.checklists.map((function(e){var t;return r.a.createElement(te,(t={items:e.items,handleShowAddItemForm:S,handleHideAddItemForm:O,showChecklistItemForm:A,handleCardAttributeEdit:m,handleAddChecklistItem:w,handleDisplayChecklistTitleForm:F,handleHideChecklistTitleForm:L,cardId:o,checklistId:e._id,handleCheckItem:k,title:e.title,showChecklistTitleForm:U},Object(z.a)(t,"handleCheckItem",k),Object(z.a)(t,"handleUpdateChecklistTitle",j),Object(z.a)(t,"handleDeleteChecklist",M),t))}))),B=r.a.createElement(V,{description:I.description,handleCardAttributeEdit:m,handleCardAttributeUpdate:u,handleSwitchToCardDescriptionDisplay:p,listName:s,cardId:o}),H=r.a.createElement(K,{description:b?a:I.description,handleSwitchToCardDescriptionForm:h}),J=r.a.createElement(X,{title:I.title,handleCardAttributeEdit:m,handleCardAttributeUpdate:u,handleSwitchToCardTitleDisplay:C}),P=r.a.createElement(Q,{title:b?a:I.title,handleSwitchToCardTitleForm:E}),W=g?B:H,G=I.members.map((function(e){return r.a.createElement("li",{className:"member",key:e},r.a.createElement("div",{className:"member-username"},e),r.a.createElement("a",{className:"remove-link",onClick:y},"remove"))})),x=f?J:P;var $,ee=v?"notification is-danger is-light":"notification is-danger is-light hidden";return $=I.checklists.length>0?r.a.createElement("p",{className:"is-size-4"},"Checklists"):null,r.a.createElement("div",{id:o,className:i},r.a.createElement("span",{id:s}),r.a.createElement("div",{className:"modal-background"}),r.a.createElement("div",{className:"modal-card"},r.a.createElement("div",{className:"modal-card-head"},r.a.createElement("div",{className:"modal-card-title"},x),r.a.createElement("p",null,"In list ",d),r.a.createElement("button",{className:"delete","aria-label":"close",onClick:l})),r.a.createElement("div",{className:"modal-card-body"},r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"button is-fullwidth",onClick:_},"Add Checklist"),r.a.createElement("button",{className:"button is-fullwidth"},"Add Member"),r.a.createElement("button",{className:"button is-fullwidth"},"Add Attachment"),r.a.createElement("button",{className:"button is-fullwidth"},"Add Cover")),r.a.createElement("button",{className:"button is-link is-light is-outlined mark-as-complete",onClick:c},r.a.createElement("span",{className:"icon is-small"},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement("span",null,"Mark as Complete")),r.a.createElement("p",{className:"is-size-4"},"Description"),W,$,Y,r.a.createElement("div",{className:"members"},r.a.createElement("p",{className:"is-size-4"},"Members"),r.a.createElement("div",{className:ee},r.a.createElement("button",{className:"delete",onClick:T}),"Member already added to card!"),r.a.createElement(q,{members:n,handleSelectMemberFromDropdown:N,handleCardAttributeUpdate:u})),r.a.createElement("div",{className:"content membersList-container"},r.a.createElement("ul",{className:"membersList"},G)),r.a.createElement("div",{className:"modal-card-footer"},r.a.createElement("p",{className:"is-size-4"},"Activity"),r.a.createElement("div",{className:"content"},r.a.createElement("ul",null,R))))))},ne=function(e){var t=e.members;return r.a.createElement("div",{className:"dropdown is-hoverable"},r.a.createElement("div",{className:"dropdown-trigger"},r.a.createElement("span",{className:"tag is-link is-light","aria-haspopup":"true","aria-controls":"dropdown-menu"},"Members")),r.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu"},r.a.createElement("div",{className:"dropdown-content"},t)))},re=a(18),ie=(a(56),function(e){var t,a=e.currentUser,n=e.attributeContent,i=e.activeCardModal,l=e.handleActiveCardModal,o=e.cardId,c=e.handleDeleteCard,s=e.listId,d=e.listName,m=e.handleCardAttributeEdit,u=e.handleCardAttributeUpdate,h=e.handleSwitchToCardDescriptionForm,p=e.handleSwitchToCardDescriptionDisplay,E=e.handleSwitchToCardTitleForm,C=e.handleSwitchToCardTitleDisplay,g=e.showCardDescriptionForm,f=e.showCardTitleForm,b=e.isLoading,N=e.title,v=e.userList,T=e.handleSelectMemberFromDropdown,y=e.showDuplicateMemberWarning,D=e.handleCloseDuplicateMemberWarning,I=e.handleDeleteMemberFromCard,S=e.index,O=e.lists,A=e.currentList,_=e.handleShowAddItemForm,w=e.handleHideAddItemForm,k=e.showChecklistItemForm,F=e.handleCreateChecklist,L=e.handleAddChecklistItem,U=e.handleCheckItem,j=e.handleDisplayChecklistTitleForm,M=e.handleHideChecklistTitleForm,R=e.showChecklistTitleForm,B=e.handleUpdateChecklistTitle,H=e.handleDeleteChecklist;t=i===o?"modal is-active is clipped ".concat(o):"modal ".concat(o);var J,P=a.boards.filter((function(e){return JSON.stringify(e._id)===JSON.stringify(a.activeBoard)}))[0];console.log("currentBoard "+JSON.stringify(P)),console.log("lists "+JSON.stringify(O[0]._id)),console.log("listId "+JSON.stringify(s)),console.log(JSON.stringify(A));var W=A.cards.filter((function(e){return JSON.stringify(e._id)===JSON.stringify(o)}))[0];return W.members&&(J=W.members.map((function(e){return r.a.createElement("div",{className:"member",key:e},e)}))),r.a.createElement(re.b,{draggableId:o,index:S},(function(e,i){return r.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{provided:e,ref:e.innerRef}),r.a.createElement("div",{id:o,className:i.isDragging?"card is-dragging":"card","data-target":o,"aria-haspopup":"true",onClick:l},r.a.createElement(ne,{members:J}),r.a.createElement("div",{className:"card-content task is-hovered"},N)),r.a.createElement(ae,{currentUser:a,cardId:o,attributeContent:n,classes:t,handleActiveCardModal:l,handleDeleteCard:c,listId:s,listName:d,handleCardAttributeEdit:m,handleCardAttributeUpdate:u,handleSwitchToCardDescriptionForm:h,showCardDescriptionForm:g,handleSwitchToCardDescriptionDisplay:p,handleSwitchToCardTitleForm:E,handleSwitchToCardTitleDisplay:C,showCardTitleForm:f,isLoading:b,members:v,handleSelectMemberFromDropdown:T,showDuplicateMemberWarning:y,handleCloseDuplicateMemberWarning:D,handleDeleteMemberFromCard:I,lists:O,currentList:A,currentCard:W,handleShowAddItemForm:_,handleHideAddItemForm:w,showChecklistItemForm:k,handleCreateChecklist:F,handleAddChecklistItem:L,handleCheckItem:U,handleDisplayChecklistTitleForm:j,handleHideChecklistTitleForm:M,showChecklistTitleForm:R,handleUpdateChecklistTitle:B,handleDeleteChecklist:H}))}))}),le=function(e){function t(){return Object(U.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentUser,a=e.attributeContent,n=e.activeCardModal,i=e.handleActiveCardModal,l=e.cardId,o=e.handleDeleteCard,c=e.listId,s=e.listName,d=e.handleCardAttributeEdit,m=e.handleCardAttributeUpdate,u=e.handleSwitchToCardDescriptionForm,h=e.handleSwitchToCardDescriptionDisplay,p=e.showCardDescriptionForm,E=e.handleSwitchToCardTitleForm,C=e.handleSwitchToCardTitleDisplay,g=e.showCardTitleForm,f=e.isLoading,b=e.title,N=e.userList,v=e.handleSelectMemberFromDropdown,T=e.showDuplicateMemberWarning,y=e.handleCloseDuplicateMemberWarning,D=e.handleDeleteMemberFromCard,I=e.index,S=e.lists,O=e.currentList,A=e.currentCard,_=e.handleShowAddItemForm,w=e.handleHideAddItemForm,k=e.showChecklistItemForm,F=e.handleCreateChecklist,L=e.handleAddChecklistItem,U=e.handleCheckItem,j=e.handleDisplayChecklistTitleForm,M=e.handleHideChecklistTitleForm,R=e.showChecklistTitleForm,B=e.handleUpdateChecklistTitle,H=e.handleDeleteChecklist;return console.log(n),r.a.createElement(ie,{currentUser:t,attributeContent:a,activeCardModal:n,handleActiveCardModal:i,cardId:l,handleDeleteCard:o,listId:c,listName:s,handleCardAttributeEdit:d,handleCardAttributeUpdate:m,handleSwitchToCardDescriptionForm:u,handleSwitchToCardDescriptionDisplay:h,handleSwitchToCardTitleForm:E,handleSwitchToCardTitleDisplay:C,showCardDescriptionForm:p,showCardTitleForm:g,isLoading:f,title:b,userList:N,handleSelectMemberFromDropdown:v,showDuplicateMemberWarning:T,handleCloseDuplicateMemberWarning:y,handleDeleteMemberFromCard:D,index:I,lists:S,currentList:O,currentCard:A,handleShowAddItemForm:_,handleHideAddItemForm:w,showChecklistItemForm:k,handleCreateChecklist:F,handleAddChecklistItem:L,handleCheckItem:U,handleDisplayChecklistTitleForm:j,handleHideChecklistTitleForm:M,showChecklistTitleForm:R,handleUpdateChecklistTitle:B,handleDeleteChecklist:H})}}]),t}(n.Component),oe=Object(H.b)((function(e,t){return{currentUser:e.currentUser,title:t.title,cardId:t.cardId,activeCardModal:e.activeCardModal,listId:t.listId,listName:t.listName,showCardDescriptionForm:e.showCardDescriptionForm,showCardTitleForm:e.showCardTitleForm,attributeContent:e.attributeContent,isLoading:e.isLoading,userList:e.userList,showDuplicateMemberWarning:e.showDuplicateMemberWarning,index:t.index,lists:e.activeBoardLists,currentList:e.activeBoardLists.filter((function(e){return JSON.stringify(e._id)===JSON.stringify(t.listId)}))[0],showChecklistItemForm:e.showChecklistItemForm,showChecklistTitleForm:e.showChecklistTitleForm}}),(function(e){return{handleActiveCardModal:function(t){var a=t.target.parentElement.id;e(N(a)),e((function(e){fetch("/getAllUsers").then((function(e){return e.json()})).then((function(t){e({type:"UPDATE_USER_LIST",users:t})})).catch((function(e){console.log(e),alert("hmmmm")}))}))},handleDeleteCard:function(t){var a=t.target.parentElement.parentElement.parentElement.parentElement.id,n=t.target.parentElement.parentElement.parentElement.parentElement.firstChild.id;e(function(e,t){return function(a,n){var r=n().currentUser;fetch("deleteCard",{method:"DELETE",body:JSON.stringify({cardId:e,listId:t,currentUser:r}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a(v(e.lists)),a(b(e.user))})).catch((function(e){console.log(e),alert("hmmmm")}))}}(a,n)),e(N())},handleCardAttributeUpdate:function(t){t.preventDefault(),console.log(t.target.parentElement.parentElement.parentElement.parentElement.firstChild.id),e(D(t))},handleSwitchToCardDescriptionForm:function(){e({type:"SWITCH_TO_CARD_DESCRIPTION_FORM"})},handleSwitchToCardDescriptionDisplay:function(){e({type:"SWITCH_TO_CARD_DESCRIPTION_DISPLAY"})},handleCardAttributeEdit:function(t){var a=t.target.value;e(function(e){return{type:"EDIT_CARD_ATTRIBUTE",attribute:e}}(a))},handleSwitchToCardTitleForm:function(){e({type:"SWITCH_TO_CARD_TITLE_FORM"})},handleSwitchToCardTitleDisplay:function(){e({type:"SWITCH_TO_CARD_TITLE_DISPLAY"})},handleSelectMemberFromDropdown:function(t){var a=t.target.innerHTML;document.getElementById("dropdown-selection").innerHTML=a,e(function(e){return{type:"SELECT_MEMBER_FROM_DROPDOWN",member:e}}(a))},handleCloseDuplicateMemberWarning:function(){e({type:"CLOSE_DUPLICATE_MEMBER_WARNING"})},handleDeleteMemberFromCard:function(t){e(function(e){return function(t,a){var n=a().currentUser,r=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.id,i=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.firstChild.id,l=e.target.previousSibling.innerHTML;console.log("username "+l),fetch("/deleteMemberFromCard",{method:"DELETE",body:JSON.stringify({username:l,cardId:r,listId:i,currentUser:n}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t(v(e.lists)),t(b(e.user))})).catch((function(e){console.log(e),alert("hmmmm")}))}}(t))},handleShowAddItemForm:function(t){var a=t.target.parentElement.id;e(function(e){return{type:"SHOW_ADD_ITEM_FORM",checklistId:e}}(a))},handleHideAddItemForm:function(){e({type:"HIDE_ADD_ITEM_FORM"})},handleCreateChecklist:function(t){e(function(e){return function(t,a){var n=a().currentUser,r=e.target.parentElement.parentElement.parentElement.parentElement.id,i=e.target.parentElement.parentElement.parentElement.parentElement.firstChild.id;fetch("./createChecklist",{method:"POST",body:JSON.stringify({cardId:r,listId:i,currentUser:n}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t(v(e.lists)),t(b(e.user))})).catch((function(e){console.log(e),alert("hmmmm")}))}}(t))},handleAddChecklistItem:function(t){t.preventDefault(),e(function(e){return function(t,a){var n=a(),r=n.currentUser,i=e.target.parentElement.id,l=e.target.parentElement.parentElement.parentElement.parentElement.id,o=e.target.parentElement.parentElement.parentElement.parentElement.firstChild.id,c=n.cardAttributeContent;fetch("./addChecklistItem",{method:"POST",body:JSON.stringify({currentUser:r,checklistId:i,cardId:l,listId:o,cardAttributeContent:c}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t(v(e.lists)),t(b(e.user))})).catch((function(e){console.log(e),alert("hmmmm")}))}}(t)),e({type:"HIDE_ADD_ITEM_FORM"})},handleCheckItem:function(t){console.log(t.target.parentElement.id),e(function(e){return function(t,a){var n=a(),r=n.currentUser,i=e.target.parentElement.id,l=e.target.parentElement.parentElement.id,o=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.id,c=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.firstChild.id,s=n.attributeType,d=n.cardAttributeContent;fetch("/checkChecklistItem",{method:"PATCH",body:JSON.stringify({currentUser:r,checklistItemId:i,checklistId:l,cardId:o,listId:c,attributeType:s,cardAttributeContent:d}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t(v(e.lists)),t(b(e.user))})).catch((function(e){console.log(e),alert("hmmmm")}))}}(t))},handleDisplayChecklistTitleForm:function(t){console.log(t.target.parentElement.id);var a=t.target.parentElement.id;e(function(e){return{type:"DISPLAY_CHECKLIST_TITLE_FORM",checklistId:e}}(a))},handleHideChecklistTitleForm:function(t){t.preventDefault(),e({type:"HIDE_CHECKLIST_TITLE_FORM"})},handleUpdateChecklistTitle:function(t){t.preventDefault(),e({type:"HIDE_CHECKLIST_TITLE_FORM"}),e(function(e){return function(t,a){var n=a(),r=n.currentUser,i=e.target.parentElement.id,l=e.target.parentElement.parentElement.parentElement.parentElement.id,o=e.target.parentElement.parentElement.parentElement.parentElement.firstChild.id,c=n.cardAttributeContent;fetch("/updateChecklistTitle",{method:"PATCH",body:JSON.stringify({checklistId:i,currentUser:r,title:c,cardId:l,listId:o}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t(v(e.lists)),t(b(e.user))})).catch((function(e){console.log(e),alert("hmmmm")}))}}(t))},handleDeleteChecklist:function(t){t.preventDefault(),console.log(t.target.parentElement.parentElement.parentElement.id),e(function(e){return function(t,a){var n=a().currentUser,r=e.target.parentElement.parentElement.parentElement.id,i=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.id,l=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.firstChild.id;fetch("/deleteChecklist",{method:"DELETE",body:JSON.stringify({checklistId:r,currentUser:n,cardId:i,listId:l}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t(v(e.lists)),t(b(e.user))})).catch((function(e){console.log(e),alert("hmmmm")}))}}(t))}}}))(le),ce=function(e){var t=e.handleSaveCard,a=e.handleHideCardForm,n=e.handleTitleChange;return r.a.createElement("form",{onSubmit:t},r.a.createElement("textarea",{className:"textarea",onChange:n}),r.a.createElement("div",{className:"field is-grouped",id:"cardForm-buttons"},r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-primary is-light",type:"submit"},"save")),r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-danger is-light",onClick:a},"cancel"))))},se=function(e){var t=e.currentUser,a=e.id,n=e.deleteList,i=e.handleListNameChange,l=e.handleSaveCard,o=e.handleShowCardForm,c=e.handleHideCardForm,s=e.showCardForm,d=e.handleTitleChange,m=e.lists,u=t.boards.filter((function(e){return e._id===t.activeBoard}));console.log(u),console.log("list lists "+JSON.stringify(m));var h,p,E=m.filter((function(e){return a===e._id}));console.log(E);var C=E[0].name,g=E[0].cards;return g&&(h=g.map((function(e,t){return r.a.createElement(oe,{title:e.title,cardId:e._id,listId:a,listName:E[0].name,key:e._id,index:t})}))),p=s===a?r.a.createElement(ce,{handleSaveCard:l,handleHideCardForm:c,handleTitleChange:d}):null,r.a.createElement(re.c,{droppableId:a},(function(e,t){return r.a.createElement("div",Object.assign({provided:e},e.droppableProps,{ref:e.innerRef,className:t.isDraggingOver?"list tile is-2 is-vertical is-parent notification is-dragging-over":"list tile is-2 is-vertical is-parent notification is-light"}),r.a.createElement("a",{className:"delete-list delete is-medium",onClick:n}),r.a.createElement("div",{id:a},r.a.createElement("div",{className:"list-name is-size-5"},r.a.createElement("input",{id:"list-name",className:"input",type:"text",placeholder:"Enter List Name",defaultValue:C,onBlur:i})),h,e.placeholder,p,r.a.createElement("button",{className:"button is-primary is-light is-fullwidth",onClick:o},"+ Add Card")))}))},de=function(e){function t(){return Object(U.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.deleteList,n=e.handleListNameChange,i=e.currentUser,l=e.handleSaveCard,o=e.handleShowCardForm,c=e.handleHideCardForm,s=e.showCardForm,d=e.handleTitleChange,m=e.lists;return r.a.createElement(se,{id:t,deleteList:a,handleListNameChange:n,currentUser:i,handleSaveCard:l,handleShowCardForm:o,handleHideCardForm:c,showCardForm:s,handleTitleChange:d,lists:m})}}]),t}(n.Component),me=Object(H.b)((function(e,t){return{id:t.id,currentUser:e.currentUser,showCardForm:e.showCardForm,lists:e.activeBoardLists}}),(function(e){return{deleteList:function(t){e(function(e){return function(t){var a=e.target.parentElement.id;fetch("/deleteList",{method:"DELETE",body:JSON.stringify({listId:a}),headers:{"content-type":"application/json"}}).then((function(e){return console.log(JSON.stringify(e)),e.json()})).then((function(e){console.log(e),t(v(e.lists)),t(b(e.user))})).catch((function(e){console.log(e),t(C(e)),alert("hmmmm")}))}}(t))},handleListNameChange:function(t){var a=t.target.value;e(y(t,a,"/changeListName"))},handleShowCardForm:function(t){var a=t.target.parentElement.id;e(function(e){return{type:"CREAT_CARD_FORM",listId:e}}(a))},handleHideCardForm:function(t){e({type:"HIDE_CARD_FORM"})},handleSaveCard:function(t){e(function(e){return function(t,a){e.preventDefault(),t({type:"HIDE_CARD_FORM"});var n=a(),r=n.currentUser,i=e.target.parentElement.id;console.log("list yo "+i);var l=n.title;fetch("/createCard",{method:"POST",body:JSON.stringify({listId:i,currentUser:r,title:l}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t(v(e.lists)),t(b(e.user))})).catch((function(e){console.log(e),alert("hmmmm")}))}}(t))},handleTitleChange:function(t){var a=t.target.value;console.log(a),e(function(e){return{type:"CHANGE_TITLE",title:e}}(a))}}}))(de),ue=function(e){var t,a=e.handleClick,n=(e.name,e.lists),i=e.handleBoardNameChange,l=e.currentUser,o=e.showBoardNameDisplay,c=e.handleHideBoardNameDisplay,s=e.handleOnDragEnd;n&&(t=n.map((function(e){return r.a.createElement(me,{id:e._id,key:e._id})})));var d=l.boards.filter((function(e){return JSON.stringify(e._id)===JSON.stringify(l.activeBoard)}));console.log("name display "+o);var m=o?"board-name-display":"board-name-display hidden",u=o?"input is-large has-text-dark has-background-white-bis hidden":"input is-large has-text-dark has-background-white-bis";return console.log("active board "+JSON.stringify(d[0].name)),r.a.createElement("div",{className:"board"},r.a.createElement("div",{className:"is-size-4 board-name"},r.a.createElement("div",null,r.a.createElement("input",{id:"board-name",className:u,type:"text",onBlur:i,defaultValue:d[0].name,placeholder:o?"Enter Board Name...":""})),r.a.createElement("div",{className:m,onClick:c},d[0].name?d[0].name:"Enter Name...")),r.a.createElement(re.a,{onDragEnd:s},t),r.a.createElement("button",{className:"button add-list is-light is-large is-outlined is-primary",onClick:a},"Add A List..."))},he=function(e){function t(){return Object(U.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleClick,a=e.currentUser,n=e.currentBoard,i=e.handleBoardNameChange,l=e.showBoardNameDisplay,o=e.handleHideBoardNameDisplay,c=e.handleOnDragEnd,s=e.lists;return n&&n[0]?(console.log("BoardContainer "+JSON.stringify(n)),r.a.createElement(ue,{handleClick:t,lists:s,currentBoard:n,handleBoardNameChange:i,currentUser:a,showBoardNameDisplay:l,handleHideBoardNameDisplay:o,handleOnDragEnd:c})):r.a.createElement("div",{className:"no-board is-size-2 has-text-danger"},"no board selected")}}]),t}(n.Component),pe=Object(H.b)((function(e,t){return{currentUser:e.currentUser,currentBoard:t.currentBoard,showBoardNameDisplay:e.showBoardNameDisplay,lists:e.activeBoardLists}}),(function(e){return{handleClick:function(t){e((function(e,t){var a=t();console.log("state "+JSON.stringify(a)),fetch("/createList",{method:"POST",body:JSON.stringify({activeBoard:a.currentUser.activeBoard}),headers:{"Content-type":"application/json"}}).then((function(e){return console.log("json "+JSON.stringify(e)),e.json()})).then((function(t){console.log("json "+JSON.stringify(t)),e(v(t.lists)),e(b(t.user))})).catch((function(t){console.log(t),e(C(t)),alert("hmmmm")}))}))},handleBoardNameChange:function(t){var a=t.target.value;t.target.value="",e(y(t,a,"/changeBoardName")),e({type:"SHOW_BOARD_NAME_DISPLAY"})},handleHideBoardNameDisplay:function(){e({type:"SHOW_BOARD_NAME_DISPLAY"})},handleOnDragEnd:function(t){e(I(t))}}}))(he),Ee=function(e){var t=e.handleLogoutClick,a=e.handleCreateBoard,n=e.currentUser,i=e.handleDeleteBoard,l=e.handleActiveBoardSwitch,o=e.redirect;console.log("active "+JSON.stringify(n));var c,s,d=[];return n.boards&&(n.boards.map((function(e){return d.push(e.name),r.a.createElement(pe,null)})),console.log(JSON.stringify(n.boards)),c=n.boards.map((function(e,t){return console.log(t+" "+e._id),r.a.createElement("a",{className:"navbar-item has-text-black",id:e._id,onClick:l,key:e._id+"1"},e.name?e.name:"board ".concat(t+1))}))),n.activeBoard&&(s=n.boards.filter((function(e){return e._id===n.activeBoard}))),s=r.a.createElement(pe,{currentBoard:s}),console.log(n.activeBoard),"/login"===o?r.a.createElement(L.a,{to:o}):r.a.createElement("div",{className:"show has-background-white-bis"},r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar has-background-grey-light",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("div",{className:"navbar-item is-size-1 is-family-secondary has-text-white"},"DJELLO")),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{id:"board-dropdown-board-buttons-container"},r.a.createElement("div",{class:"dropdown board-dropdown is-hoverable is-right"},r.a.createElement("div",{class:"dropdown-trigger"},r.a.createElement("button",{class:"button","aria-haspopup":"true","aria-controls":"dropdown-menu4"},r.a.createElement("span",null,"Boards"),r.a.createElement("span",{class:"icon is-small"},r.a.createElement("i",{class:"fas fa-angle-down","aria-hidden":"true"})))),r.a.createElement("div",{class:"dropdown-menu",id:"dropdown-menu4",role:"menu"},r.a.createElement("div",{class:"dropdown-content"},r.a.createElement("div",{class:"dropdown-item"},c)))),r.a.createElement("div",{id:"add-delete-board"},r.a.createElement("button",{className:"button is-primary is-light create-board-button",title:"create new board",onClick:a},r.a.createElement("span",{className:"icon is-small"},r.a.createElement("i",{className:"fas fa-plus"}))),r.a.createElement("button",{className:"button is-danger is-light delete-board-button",title:"delete current board",onClick:i},r.a.createElement("span",{className:"icon is-small"},r.a.createElement("i",{className:"fas fa-minus-circle"}))))),r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"logout"},r.a.createElement("a",{className:"button is-danger is-light",onClick:t},"Sign Out")))))),r.a.createElement("div",{className:"current-board"},s))},Ce=function(e){function t(){return Object(U.a)(this,t),Object(M.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleLogoutClick,a=e.handleCreateBoard,n=e.currentUser,i=e.handleDeleteBoard,l=e.handleActiveBoardSwitch,o=e.redirect;return r.a.createElement(Ee,{handleLogoutClick:t,handleCreateBoard:a,handleDeleteBoard:i,currentUser:n,handleActiveBoardSwitch:l,redirect:o})}}]),t}(n.Component),ge=Object(H.b)((function(e){return{currentUser:e.currentUser,redirect:e.redirect}}),(function(e){return{handleLogoutClick:function(t){e((function(e){fetch("/logout",{method:"POST"}).then((function(){return e({type:"REDIRECT_AFTER_LOGOUT"})})).catch((function(t){console.log(t),e(C(t)),alert("Error logging out")}))}))},handleCreateBoard:function(t){e((function(e,t){var a=t().currentUser;fetch("/createBoard",{method:"POST",body:JSON.stringify({currentUser:a}),headers:{"Content-type":"application/json"}}).then((function(e){return console.log(e),e.json()})).then((function(t){e(v(t.lists)),e(b(t.user))})).catch((function(e){alert(e)}))}))},handleDeleteBoard:function(t){e((function(e,t){console.log("butts");var a=t().currentUser.activeBoard;fetch("/deleteBoard",{method:"DELETE",body:JSON.stringify({board:a}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("current User "+JSON.stringify(t)),e(b(t))})).catch((function(t){console.log(t),e(C(t)),alert("hmmmm")}))}))},handleActiveBoardSwitch:function(t){e(function(e){return function(t,a){var n=a().currentUser,r=e.target.id;console.log("boardId "+r),fetch("switchActiveBoard",{method:"PATCH",body:JSON.stringify({boardId:r,currentUser:n}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t(v(e.lists)),t(b(e.user))})).catch((function(e){console.log(e),alert("hmmmm")}))}}(t))}}}))(Ce),fe=function(){return r.a.createElement("div",{id:"Home",className:"hero is-primary is-bold is-fullheight"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("h1",{className:"is-size-1 has-text-weight-light"},"DJELLO"),r.a.createElement("p",null,"The task manager of tomorrow, today."),r.a.createElement("div",null,r.a.createElement(F.b,{to:"/login"},r.a.createElement("button",{className:"button"},"Sign in")))))};var be=function(){return r.a.createElement(F.a,null,r.a.createElement("div",{className:"App container is-fluid"},r.a.createElement(L.d,null,r.a.createElement(L.b,{path:"/",exact:!0,component:fe}),r.a.createElement(L.b,{path:"/login",exact:!0,component:Y}),r.a.createElement(L.b,{path:"/register",component:W}),r.a.createElement(L.b,{path:"/:user",component:(e=ge,function(t){function a(){var e;return Object(U.a)(this,a),(e=Object(M.a)(this,Object(R.a)(a).call(this))).state={loading:!0,redirect:!1},e}return Object(B.a)(a,t),Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/checkForCurrentUser").then((function(t){if(console.log(t.status),200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var t=this.state,a=t.loading,n=t.redirect;return a?null:n?r.a.createElement(L.a,{to:"/login"}):r.a.createElement(e,this.props)}}]),a}(n.Component))}))));var e};l.a.render(r.a.createElement(H.a,{store:w},r.a.createElement(o.a,{loading:null,persistor:k},r.a.createElement(be,null))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.4af24b9d.chunk.js.map